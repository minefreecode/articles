# JOINS
Оператор JOIN используется для объединения строк из двух или более таблиц на основе связанного столбца между ними.

## Различные типы объединений
``INNER JOIN``: возвращает записи, которые имеют совпадающие значения в обеих таблицах

``LEFT JOIN``: возвращает все записи из левой таблицы и совпадающие записи из правой таблицы

``RIGHT JOIN``: возвращает все записи из правой таблицы и совпадающие записи из левой таблицы

``FULL JOIN``: возвращает все записи, если есть совпадение в левой или правой таблице

``INNER JOIN``: Ключевое слово INNER JOIN выбирает записи, которые имеют совпадающие значения в обеих таблицах.

# Свойства ACID
## A – Атомарность

Атомарность требует, чтобы транзакции рассматривались как единая «единица работы». Вся последовательность транзакционных 
операций завершается или завершается неудачей как единое целое. Частичного успеха или неудачи не существует.

Например, перевод денег с одного банковского счета включает несколько шагов:

Сумма дебета X со счета A Сумма кредита X на счет B Согласно атомарности, либо все операции дебета и кредита завершаются 
успешно, либо все они завершаются неудачей. Если дебет проходит успешно, но кредит по какой-либо причине не выполняется, 
вся транзакция откатывается. Атомарность гарантирует отсутствие частичных или неполных транзакций.

Атомарность предотвращает нежелательные обновления данных из незавершенных транзакций. Без нее дебет может сохраняться, 
а кредит не выполняется, что приводит к несогласованности данных. Отменяя частичные транзакции, атомарность обеспечивает 
согласованность базы данных.

## C – Согласованность

Свойство согласованности гарантирует, что в базу данных записываются только допустимые данные. Перед фиксацией транзакции 
выполняются проверки согласованности для поддержания ограничений базы данных и бизнес-правил.

Например, транзакция, зачисляющая 5000 на банковский счет с текущим балансом 3000, недействительна, если на счете 
установлен лимит овердрафта 1000. Транзакция нарушает согласованность, превышая допустимый лимит счета. Поэтому она 
блокируется и отменяется.

Обеспечение согласованности предотвращает повреждение данных и недействительные записи. Только транзакции, 
соответствующие правилам согласованности, обязуются поддерживать точность данных. Реальные бизнес-ограничения 
моделируются в базе данных с помощью согласованности.

## I – Изоляция

Изоляция поддерживает независимость транзакций базы данных. Незафиксированные транзакции изолируются с помощью механизмов 
блокировки для предотвращения грязного чтения или потери обновлений.

Например, если транзакция T1 обновляет строку, транзакция T2 должна ждать, пока T1 не зафиксирует или не откатится. 
Изоляция не позволяет T2 считывать ненадежные данные, обновленные T1, но еще не зафиксированные.

Изоляция позволяет избежать проблем с параллелизмом, таких как:

Грязные чтения — чтение незафиксированных данных из других транзакций Потерянные обновления — перезапись 
незафиксированных обновлений другой транзакции Неповторяющиеся чтения — один и тот же запрос дает разные результаты
в разных транзакциях Изоляция транзакций обеспечивает согласованность, несмотря на параллельное выполнение и обновления. 
Изменения остаются изолированными до тех пор, пока не станут постоянными.

# D — Долговечность

Долговечность обеспечивает гарантии сохранения для зафиксированных транзакций. Система сохраняет изменения после фиксации 
транзакции, даже если она позже даст сбой. Долговечность достигается с помощью резервных копий базы данных, журналов 
транзакций и дискового хранилища.

Например, если транзакция обновляет адрес клиента, долговечность гарантирует, что обновленный адрес не будет потерян 
из-за сбоя жесткого диска или отключения питания. Изменение будет сохраняться с помощью устройств хранения, резервных
копий и журналов.

Долговечность гарантирует, что транзакции, однажды зафиксированные, сохранятся навсегда. Сбой оборудования, 
отключение питания и даже сбои базы данных не отменят зафиксированные транзакции благодаря поддержке долговечности.

## Что такое нормализация базы данных?
Нормализация базы данных — это принцип проектирования базы данных для организации данных организованным и 
последовательным образом.

Он помогает вам избегать избыточности и поддерживать целостность базы данных. Он также помогает вам устранять
нежелательные характеристики, связанные со вставкой, удалением и обновлением.

### Какова цель нормализации?
Основная цель нормализации базы данных — избегать сложностей, устранять дубликаты и организовывать данные 
последовательным образом. При нормализации данные делятся на несколько таблиц, связанных между собой связями.

Администраторы баз данных могут достигать этих связей с помощью первичных ключей, внешних ключей и составных ключей.

Чтобы это сделать, первичный ключ в одной таблице, например, employee_wages, связывается со значением из другой таблицы, 
например, employee_data.

Примечание: Первичный ключ — это столбец, который однозначно идентифицирует строки данных в этой таблице. Это уникальный 
идентификатор, такой как идентификатор сотрудника, идентификатор студента, идентификационный номер избирателя (VIN) и т. д.

Внешний ключ — это поле, которое относится к первичному ключу в другой таблице.

Составной ключ похож на первичный ключ, но вместо столбца у него есть несколько столбцов.

#### Типы нормализации
##### Первая нормальная форма (1NF)
   Устранение повторяющихся групп в отдельных таблицах.
   Создание отдельной таблицы для каждого набора связанных данных.
   Определение каждого набора связанных данных с помощью первичного ключа.

##### Вторая нормальная форма (2NF)
   1NF устраняет только повторяющиеся группы, но не избыточность. Вот почему существует 2NF. Говорят, что таблица 
   находится во 2NF, если она соответствует следующим критериям: она уже находится в 1NF и не имеет частичной 
   зависимости. То есть все неключевые атрибуты полностью зависят от первичного ключа.

##### Третья нормальная форма (3NF)
   Когда таблица находится в 2NF, она устраняет повторяющиеся группы и избыточность, но не устраняет транзитивную 
частичную зависимость.
   Это означает, что непервичный атрибут (атрибут, который не является частью ключа кандидата) зависит от другого 
непервичного атрибута. Это то, что устраняет третья нормальная форма (3NF).
   Таким образом, чтобы таблица находилась в 3NF, она должна:
- быть в 2NF
- не иметь транзитивной частичной зависимости.
Наличие в отношении транзитивной зависимости свидетельствует, что отношение содержит информацию о более, чем одной сущности.
##### Четвертая нормальная форма (4NF)
   Четвертая нормальная форма (4NF) — это уровень нормализации базы данных, на котором нет нетривиальных многозначных 
зависимостей, отличных от ключа кандидата. Она основана на первых трех нормальных формах (1NF, 2NF и 3NF) и 
нормальной форме Бойса-Кодда (BCNF). Она гласит, что в дополнение к базе данных, отвечающей требованиям BCNF, 
она не должна содержать более одной многозначной зависимости.

Свойства
Отношение R находится в 4NF тогда и только тогда, когда выполняются следующие условия:

Оно должно быть в нормальной форме Бойса-Кодда (BCNF).
Таблица не должна иметь многозначной зависимости.
Таблица с многозначной зависимостью нарушает стандарт нормализации Четвертой нормальной формы (4NF), поскольку она 
создает ненужную избыточность и может способствовать несогласованности данных. Чтобы привести это к 4NF, необходимо 
разбить эту информацию на две таблицы.

##### Нормальная форма Бойса-Кодда (BCNF)
   Нормальная форма Бойса-Кодда (BCNF) основана на функциональных зависимостях, которые учитывают все потенциальные 
ключи в отношении; однако BCNF также имеет дополнительные ограничения по сравнению с общим определением 3NF.

Правила для BCNF
Правило 1: Таблица должна быть в 3-й нормальной форме.

Правило 2: X должен быть суперключом для каждой функциональной зависимости (FD) X−>Y в заданном отношении.

Примечание: чтобы проверить, находится ли отношение в BCNF, мы определяем все детерминанты и убеждаемся, что они
являются потенциальными ключами.

##### 5-я нормальная форма
Требование пятой нормальной формы (5NF) заключается в том, чтобы в таблице каждая нетривиальная зависимость соединения 
определялась потенциальным ключом этой таблицы.
Декомпозиция без потерь – процесс разбиения одной таблицы на несколько, при условии, что в случае соединения таблиц, 
которые были получены в результате декомпозиции, будет формироваться ровно та же самая информация, что и в исходной 
таблице до декомпозиции.

Пример нормализаци в 5-й нормальной форме

![Final_LDM.png](image%2FFinal_LDM.png)

![Final_PDM.png](image%2FFinal_PDM.png)